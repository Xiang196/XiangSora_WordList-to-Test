# 📘 AI词汇测试卷生成器

一个基于Streamlit和DeepSeek AI的应用程序，用于自动生成英语词汇测试卷，确保选项随机分布和单词随机抽取。

## 🌟 主要功能

1. **词汇增强**：将简单的单词列表转换为包含词性、释义、例句、同义词和反义词的结构化数据
2. **测试卷生成**：基于增强后的词汇数据生成完整的英语词汇测试卷
3. **随机分布保证**：确保选项均匀分布在A/B/C/D位置，单词从整个词库随机抽取
4. **分布分析**：提供选项分布和单词分布的可视化分析

## 📋 测试卷题型

- 英译中（选择题）
- 中译英（带首字母提示填空）
- 选词填空（单句）
- 词义辨析（易混词选择题）
- 翻译句子
- 短文填空（篇章）
- 词形变化挑战

## 🚀 使用方法

1. 运行应用程序：`streamlit run app.py`
2. 上传词汇文件（两种方式）：
   - 上传原始词汇文件（仅包含单词列表的JSON）
   - 上传增强后的词汇文件（已包含释义、例句等的JSON）
3. 调整AI创造性参数（较低值更严格遵循随机分布规则）
4. 生成测试卷
5. 查看分布分析，验证随机性

## 🔧 技术特点

- 使用Streamlit构建用户界面
- 调用DeepSeek AI API进行自然语言生成
- 使用模板提示词指导AI生成特定格式的内容
- 实现了强制随机分布算法，确保选项和单词分布均匀
- 提供分布分析功能，可视化验证随机性

## 📊 分布分析功能

- **选项分布**：分析选择题答案在A/B/C/D选项上的分布情况
- **单词分布**：分析单词从词库中的抽取情况，确保前20%单词使用率≤30%，后50%单词使用率≥40%

## 🆕 最新改进 (v2.0.0)

- **简化版程序随机选词**：使用Python程序随机选择单词，不再依赖AI随机，确保真正的随机分布
- **预选单词机制**：为每个题型预先选择单词，然后提供给AI出题，确保单词随机选择
- **预分配答案位置**：为选择题预先分配均匀的答案位置，确保A/B/C/D选项使用均衡
- **简化的随机算法**：使用Python内置的random.sample()函数进行简单随机抽样，无需复杂的分布控制

## 📝 注意事项

- 单词和选项分布已由程序保证，但如果AI不遵循预选单词，请降低AI创造性值重试
- 如果词汇量不足，程序会自动允许单词在不同题型中重复使用
- 可以通过分布分析功能验证随机性效果
- API密钥已包含在代码中，仅供演示使用，实际应用中应使用环境变量或配置文件存储